<h1 align="center">‚öôÔ∏è –ú–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ XC_VM</h1>

<p align="center">
  –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π <b>XC_VM</b> —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞–∫ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å ‚Äî –æ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤. 
  –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç <b>–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö</b> –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–∞–Ω–µ–ª–∏.
</p>

<p align="center">
  <a href="../../ru/main-page.md"><b>‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</b></a>
</p>

---

## üìö –ù–∞–≤–∏–≥–∞—Ü–∏—è

* [üîÅ 1. –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è](#-1-–∏–Ω–∏—Ü–∏–∞—Ü–∏—è-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
* [üïí 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ CRON](#-2-–∑–∞–ø—É—Å–∫-—á–µ—Ä–µ–∑-cron)
* [üß† 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º (PHP-—É—Ä–æ–≤–µ–Ω—å)](#-3-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º-php-—É—Ä–æ–≤–µ–Ω—å)
* [üêç 4. –°–∏—Å—Ç–µ–º–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Python-—É—Ä–æ–≤–µ–Ω—å)](#-4-—Å–∏—Å—Ç–µ–º–Ω–æ–µ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-python-—É—Ä–æ–≤–µ–Ω—å)
* [üîÑ 5. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è](#-5-–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
* [‚úÖ 6. –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã](#-6-–∏—Ç–æ–≥–æ–≤–∞—è-—Å—Ö–µ–º–∞-—Ä–∞–±–æ—Ç—ã)
* [üß© –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#-–∫–ª—é—á–µ–≤—ã–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)

---

## üîÅ 1. –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ü—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å **–Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "–û–±–Ω–æ–≤–∏—Ç—å"** –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø–∞–Ω–µ–ª–∏.

* –°–æ–∑–¥–∞—ë—Ç—Å—è —Å–∏–≥–Ω–∞–ª `update`, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `signals` –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
* –≠—Ç–æ—Ç —Å–∏–≥–Ω–∞–ª –≤—ã—Å—Ç—É–ø–∞–µ—Ç **—Ç—Ä–∏–≥–≥–µ—Ä–æ–º**, –∑–∞–ø—É—Å–∫–∞—é—â–∏–º –¥–∞–ª—å–Ω–µ–π—à–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

---

## üïí 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ CRON

–ö–∞–∂–¥—É—é **–º–∏–Ω—É—Ç—É** –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ CRON:

```bash
php /home/xc_vm/includes/cli/root_signals.php
```

–°–∫—Ä–∏–ø—Ç `root_signals.php` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –∏ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ `update` –∑–∞–ø—É—Å–∫–∞–µ—Ç:

```bash
/home/xc_vm/bin/php/bin/php /home/xc_vm/includes/cli/update.php update
```

> ‚öôÔ∏è –≠—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**, –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

---

## üß† 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º (PHP-—É—Ä–æ–≤–µ–Ω—å)

–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:

```
/home/xc_vm/includes/cli/update.php
```

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ **—Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø–∞–Ω–µ–ª–∏** (`MAIN` –∏–ª–∏ `LB`).
2. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ —Å **GitHub**:

   * –°—Å—ã–ª–∫–∞ –Ω–∞ –∞—Ä—Ö–∏–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
   * –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ (—Ö–µ—à) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏.
3. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é.
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ö–µ—à-—Å—É–º–º—ã.
5. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é Python:

```bash
sudo /usr/bin/python3 /home/xc_vm/update "/home/xc_vm/tmp/.update.tar.gz" "HASH" > /dev/null 2>&1 &
```

---

## üêç 4. –°–∏—Å—Ç–µ–º–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Python-—É—Ä–æ–≤–µ–Ω—å)

–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –ø–µ—Ä–µ–¥–∞—á–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–∫—Ä–∏–ø—Ç—É:

```
/home/xc_vm/update
```

–û–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã:

1. **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã** –∞—Ä—Ö–∏–≤–∞.
2. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–Ω–µ–ª–∏**, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.
3. **–†–∞—Å–ø–∞–∫–æ–≤–∫–∞** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –∫–∞—Ç–∞–ª–æ–≥:

   ```bash
   /home/xc_vm/
   ```
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:**

   ```bash
   chown -R xc_vm:xc_vm /home/xc_vm/
   ```
5. **–ó–∞–ø—É—Å–∫ –ø–æ—Å—Ç-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**

   ```bash
   /home/xc_vm/bin/php/bin/php /home/xc_vm/includes/cli/update.php post-update
   ```
6. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–∞–Ω–µ–ª–∏** –≤ —Ä–∞–±–æ—á–µ–º —Ä–µ–∂–∏–º–µ.

---

## üîÑ 5. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–§–∏–Ω–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å–Ω–æ–≤–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ `update.php`:

1. –ü—Ä–æ–≤–µ—Ä–∫–∞, **–≤–∫–ª—é—á–µ–Ω–æ –ª–∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ LB**:

   * –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª—è–ª—Å—è `MAIN`, —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–∏–≥–Ω–∞–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö Load Balancer‚Äô–æ–≤.
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ **–≤–µ—Ä—Å–∏–∏ –ø–∞–Ω–µ–ª–∏** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
3. –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ñ–∞–π–ª–æ–≤.
4. –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø—Ä–∞–≤:

   ```bash
   chown -R xc_vm:xc_vm /home/xc_vm/
   ```
5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –¥–µ–º–æ–Ω–æ–≤:

   ```bash
   sudo systemctl daemon-reload
   ```
6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–∞–Ω–µ–ª–∏:

   ```bash
   sudo /home/xc_vm/status
   ```
7. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

---

## ‚úÖ 6. –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```text
[ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ]
        ‚îÇ
        ‚ñº
[ –ë–î: —Å–∏–≥–Ω–∞–ª update ]
        ‚îÇ
        ‚ñº
[ CRON ‚Üí root_signals.php ]
        ‚îÇ
        ‚ñº
[ update.php (PHP) ]
        ‚îÇ
        ‚ñº
[ update (Python) ]
        ‚îÇ
        ‚ñº
[ post-update ‚Üí update.php ]
        ‚îÇ
        ‚ñº
[ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ, —Ä–µ—Å—Ç–∞—Ä—Ç –¥–µ–º–æ–Ω–æ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ ]
```

---

## üß© –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* üîí **–î–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** (–Ω–∞ —É—Ä–æ–≤–Ω–µ PHP –∏ Python).
* üß† **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** –º–µ–∂–¥—É MAIN –∏ LB.
* üßπ **–û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ñ–∞–π–ª–æ–≤** –∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.
* üîÑ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–∞–Ω–µ–ª–∏** –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
* ‚öôÔ∏è **–ì–∏–±–∫–æ—Å—Ç—å –∏ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å** –∑–∞ —Å—á—ë—Ç CRON –∏ —Å–∏–≥–Ω–∞–ª–æ–≤.

---

<p align="center">
  <a href="../../ru/main-page.md"><b>‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</b></a>
</p>

---